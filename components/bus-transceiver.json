{
  "id": "BUS_TRANSCEIVER",
  "name": "Bus Transceiver",
  "category": "Input/Output",
  "description": "Bidirectional 8-bit bus transceiver with direction control",
  "pins": {
    "inputs": [
      { "x": -40, "y": -40, "label": "A0" },
      { "x": -40, "y": -30, "label": "A1" },
      { "x": -40, "y": -20, "label": "A2" },
      { "x": -40, "y": -10, "label": "A3" },
      { "x": -40, "y": 0, "label": "A4" },
      { "x": -40, "y": 10, "label": "A5" },
      { "x": -40, "y": 20, "label": "A6" },
      { "x": -40, "y": 30, "label": "A7" },
      { "x": 0, "y": -55, "label": "DIR" },
      { "x": 0, "y": 55, "label": "EN" }
    ],
    "outputs": [
      { "x": 40, "y": -40, "label": "B0" },
      { "x": 40, "y": -30, "label": "B1" },
      { "x": 40, "y": -20, "label": "B2" },
      { "x": 40, "y": -10, "label": "B3" },
      { "x": 40, "y": 0, "label": "B4" },
      { "x": 40, "y": 10, "label": "B5" },
      { "x": 40, "y": 20, "label": "B6" },
      { "x": 40, "y": 30, "label": "B7" }
    ]
  },
  "logic": {
    "code": "const dir = inputs[8].getValue();\nconst en = inputs[9].getValue();\nif (en) {\n  if (dir) {\n    for (let i = 0; i < 8; i++) {\n      outputs[i].setValue(inputs[i].getValue());\n    }\n  } else {\n    for (let i = 0; i < 8; i++) {\n      outputs[i].setValue(false);\n    }\n  }\n} else {\n  for (let i = 0; i < 8; i++) {\n    outputs[i].setValue(false);\n  }\n}"
  },
  "rendering": {
    "type": "gate",
    "shape": "rounded-rect",
    "width": 80,
    "height": 120,
    "label": "XCVR"
  }
}
