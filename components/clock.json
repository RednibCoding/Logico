{
  "id": "CLOCK",
  "name": "Clock",
  "category": "Input/Output",
  "description": "Generates periodic signal pulses",
  "pins": {
    "inputs": [],
    "outputs": [
      { "x": 25, "y": 0 }
    ]
  },
  "properties": {
    "period": {
      "type": "number",
      "label": "Period",
      "unit": "ms",
      "default": 1000,
      "min": 10,
      "max": 10000
    }
  },
  "logic": {
    "state": {
      "value": false,
      "period": 1000,
      "lastToggle": 0
    },
    "code": "outputs[0].setValue(state.value);",
    "update": "if (timestamp - state.lastToggle >= state.period / 2) {\n  state.value = !state.value;\n  state.lastToggle = timestamp;\n  outputs[0].setValue(state.value);\n}",
    "onClick": "state.value = !state.value;"
  },
  "rendering": {
    "type": "gate",
    "shape": "rounded-rect",
    "width": 50,
    "height": 30,
    "customRender": "// Draw label and frequency (content only)\nctx.fillStyle = colors.text;\nctx.font = 'bold 9px monospace';\nctx.textAlign = 'center';\nctx.fillText('CLK', x, y - 4);\nctx.font = '7px monospace';\nconst freq = (1000 / state.period).toFixed(1);\nctx.fillText(freq + 'Hz', x, y + 6);"
  }
}
